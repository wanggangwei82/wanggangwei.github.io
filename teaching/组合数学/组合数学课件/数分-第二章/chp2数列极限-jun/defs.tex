\usepackage[english]{babel}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{csquotes}
\usepackage{expl3,biblatex}
\usepackage{booktabs}
\usepackage{color,xcolor}
\usepackage{graphicx,caption,wrapfig,setspace}
\usepackage{amsthm,thmtools,amsmath,amsfonts,amssymb,dsfont} 
\usepackage{soul}
\usepackage{xeCJK}
\usepackage{newtxtext, newtxmath}

\usetheme{Madrid}
\usecolortheme{crane}
% set font
\usefonttheme{serif}

\definecolor{titlecolor}{RGB}{227, 169, 5}

\addtobeamertemplate{block begin}{%
  \setlength{\textwidth}{0.9\textwidth}%
}{}

\addtobeamertemplate{block alerted begin}{%
  \setlength{\textwidth}{0.9\textwidth}%
}{}

\addtobeamertemplate{block example begin}{%
  \setlength{\textwidth}{0.9\textwidth}%
}{}


\makeatletter
\let\HL\hl
\renewcommand\hl{%
  \let\set@color\beamerorig@set@color
  \let\reset@color\beamerorig@reset@color
  \HL}
\makeatother


\addbibresource{bibliography.bib}

% \usefonttheme[onlymath]{serif}
\mathversion{bold}
\setbeamerfont{normal text}{family=\sffamily,series=\mdseries}
\setbeamerfont{alerted text}{series=\bfseries}
\setbeamerfont{frametitle}{series=\bfseries}
\AtBeginDocument{\usebeamerfont{normal text}}

\renewcommand\baselinestretch{1.5}
\renewcommand\arraystretch{1.3}
\allowdisplaybreaks
\everymath{\displaystyle}

\beamertemplatenavigationsymbolsempty
\setbeamertemplate{footline}[page number]{} 
 \addtobeamertemplate{frametitle}{\vspace*{-0.5em}}{}
 

\newtheoremstyle{mydef}%
{3pt}{3pt}{\bfseries}{}{\bfseries\color{red}}{}{.5em}{}
\theoremstyle{mydef}
\newtheorem{dfn}{定义}
\newtheorem{thm}{定理}[section] 

\newtheoremstyle{myliti}%
{3pt}{3pt}{\bfseries}{}{\bfseries\color{blue}}{}{.5em}{}
\theoremstyle{myliti}
\newtheorem{ex}{例}

\newtheoremstyle{mystarli}%
{3pt}{3pt}{\bfseries}{}{\bfseries\color{blue}}{}{.5em}{}
\theoremstyle{mystarli}
\newtheorem{starli}{*例}

\setbeamertemplate{theorems}[numbered]
\setbeamertemplate{caption}[numbered]

\newcommand{\liang}[1]{\textcolor{blue}{#1}}
\newcommand{\tuchu}[1]{\textcolor{red}{#1}}
\setbeamertemplate{blocks}[rounded][shadow=false]

\newcommand{\blue}{\textcolor{blue}}
\newcommand{\red}{\textcolor{red}}
\newcommand{\magenta}{\textcolor{magenta}}
\newcommand{\teal}{\textcolor{teal}}
% \newcommand{\bena}{\vspace{-0.7\baselineskip}\begin{eqnarray}\begin{array}{l}}
% \newcommand{\eena}{\end{array}\end{eqnarray}\vskip -0.3\baselineskip}
% \newcommand{\benas}{\vspace{-0.7\baselineskip}\begin{eqnarray*}\begin{array}{l}}
% \newcommand{\eenas}{\end{array}\end{eqnarray*}\vskip -0.6\baselineskip}
\newcommand{\bena}{\begin{eqnarray}\begin{array}{l}}
\newcommand{\eena}{\end{array}\end{eqnarray}}
\newcommand{\benas}{\begin{eqnarray*}\begin{array}{l}}
\newcommand{\eenas}{\end{array}\end{eqnarray*}}
\newcommand{\ben}{\begin{eqnarray}}
\newcommand{\een}{\end{eqnarray}}
\newcommand{\bea}{\begin{array}}
\newcommand{\eea}{\end{array}}
\newcommand{\beq}{\begin{equation}}
\newcommand{\eeq}{\end{equation}}
\newcommand{\bec}{\setstretch{1.3}\begin{cases}}
\newcommand{\eec}{\end{cases}}
\newcommand{\beu}{\begin{enumerate}}
\newcommand{\eeu}{\end{enumerate}}
\def\rd{\ensuremath{ \mathrm{~d} }}
\def\re{\ensuremath{ \mathrm{e} }}
\def\vsp{\vskip 0.3\baselineskip}
\newcommand{\zhu}[1]{
\begin{alertblock}{}
 \textcolor{blue}{注 } #1
        \par  
\end{alertblock}
}
\def\jie{\textcolor{blue}{解} }
\def\zheng{\textcolor{blue}{证} }

\makeatletter
\setbeamertemplate{theorem begin}
{%  
\begin{\inserttheoremblockenv}
  {}{
%   \usebeamerfont*{block title}
  \usebeamercolor[fg]{block title}%
  \inserttheoremheadfont
  \inserttheoremname
  \inserttheoremnumber
  \ifx \inserttheoremaddition \empty \else\ \inserttheoremaddition\fi
%   \inserttheorempunctuation
  }
%   \normalfont
  }
  \setbeamertemplate{theorem end}{\end{\inserttheoremblockenv}}
\makeatother

% \declaretheoremstyle[
%     headfont=\normalfont
% ]{definition}

\AtBeginDocument{%
  \addtolength\abovedisplayskip{-0.5\baselineskip}%
  \addtolength\belowdisplayskip{-0.5\baselineskip}%
} 

\setbeamercolor{alerted text}{fg=titlecolor!70!blue}

% \setbeamercolor{titlelike}{fg=titlecolor}

\setbeamerfont{titlelike}{family=\sffamily,series=\bfseries}

\setbeamerfont{section number projected}{%
  family=\rmfamily,series=\bfseries,size=\normalsize}
\setbeamercolor{section number projected}{bg=titlecolor!50!red,fg=white}
\setbeamerfont{section in toc}{family=\sffamily,series=\bfseries,size=\normalsize}
\setbeamerfont{section in toc shaded}{size=\normalsize}

\setbeamerfont{title}{family=\sffamily,series=\bfseries,size=\LARGE}